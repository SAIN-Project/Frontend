import * as tslib_1 from "tslib";
import { Directive, Input, ElementRef, OnInit } from '@angular/core';
import { Input as ReteInput } from 'rete';
import { NodeService } from './node.service';
var SocketDirective = /** @class */ (function () {
    function SocketDirective(el, service) {
        this.el = el;
        this.service = service;
    }
    Object.defineProperty(SocketDirective.prototype, "type", {
        get: function () {
            return this.io instanceof ReteInput ? 'input' : 'output';
        },
        enumerable: true,
        configurable: true
    });
    SocketDirective.prototype.ngOnInit = function () {
        this.service.bindSocket(this.el.nativeElement, this.type, this.io);
    };
    SocketDirective.ctorParameters = function () { return [
        { type: ElementRef },
        { type: NodeService }
    ]; };
    tslib_1.__decorate([
        Input()
    ], SocketDirective.prototype, "io", void 0);
    SocketDirective = tslib_1.__decorate([
        Directive({
            selector: '[rete-socket]'
        })
    ], SocketDirective);
    return SocketDirective;
}());
export { SocketDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ja2V0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3JldGUtYW5ndWxhci1yZW5kZXItcGx1Z2luLyIsInNvdXJjZXMiOlsic29ja2V0LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyRSxPQUFPLEVBQU0sS0FBSyxJQUFJLFNBQVMsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM5QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFNN0M7SUFHSSx5QkFBb0IsRUFBYyxFQUFVLE9BQW9CO1FBQTVDLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxZQUFPLEdBQVAsT0FBTyxDQUFhO0lBQUcsQ0FBQztJQUVwRSxzQkFBSSxpQ0FBSTthQUFSO1lBQ0UsT0FBTyxJQUFJLENBQUMsRUFBRSxZQUFZLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDM0QsQ0FBQzs7O09BQUE7SUFFRCxrQ0FBUSxHQUFSO1FBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckUsQ0FBQzs7Z0JBUnVCLFVBQVU7Z0JBQW1CLFdBQVc7O0lBRnZEO1FBQVIsS0FBSyxFQUFFOytDQUFTO0lBRFIsZUFBZTtRQUgzQixTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsZUFBZTtTQUMxQixDQUFDO09BQ1csZUFBZSxDQVkzQjtJQUFELHNCQUFDO0NBQUEsQUFaRCxJQVlDO1NBWlksZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIEVsZW1lbnRSZWYsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSU8sIElucHV0IGFzIFJldGVJbnB1dCB9IGZyb20gJ3JldGUnO1xuaW1wb3J0IHsgTm9kZVNlcnZpY2UgfSBmcm9tICcuL25vZGUuc2VydmljZSc7XG5pbXBvcnQgeyBTb2NrZXRUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tyZXRlLXNvY2tldF0nXG59KVxuZXhwb3J0IGNsYXNzIFNvY2tldERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgQElucHV0KCkgaW8hOiBJTztcbiAgXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBzZXJ2aWNlOiBOb2RlU2VydmljZSkge31cbiAgXG4gICAgZ2V0IHR5cGUoKTogU29ja2V0VHlwZSB7XG4gICAgICByZXR1cm4gdGhpcy5pbyBpbnN0YW5jZW9mIFJldGVJbnB1dCA/ICdpbnB1dCcgOiAnb3V0cHV0JztcbiAgICB9XG4gIFxuICAgIG5nT25Jbml0KCkge1xuICAgICAgdGhpcy5zZXJ2aWNlLmJpbmRTb2NrZXQodGhpcy5lbC5uYXRpdmVFbGVtZW50LCB0aGlzLnR5cGUsIHRoaXMuaW8pO1xuICAgIH1cbn1cbiJdfQ==