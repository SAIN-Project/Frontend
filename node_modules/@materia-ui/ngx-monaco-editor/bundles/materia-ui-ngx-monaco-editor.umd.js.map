{"version":3,"file":"materia-ui-ngx-monaco-editor.umd.js","sources":["ng://@materia-ui/ngx-monaco-editor/lib/directives/resized-event.directive.ts","ng://@materia-ui/ngx-monaco-editor/lib/interfaces/index.ts","ng://@materia-ui/ngx-monaco-editor/lib/services/monaco-editor-loader.service.ts","ng://@materia-ui/ngx-monaco-editor/lib/directives/monaco-editor-loader.directive.ts","ng://@materia-ui/ngx-monaco-editor/lib/components/monaco-editor/monaco-editor.component.ts","ng://@materia-ui/ngx-monaco-editor/lib/components/monaco-diff-editor/monaco-diff-editor.component.ts","ng://@materia-ui/ngx-monaco-editor/lib/monaco-editor.module.ts"],"sourcesContent":["import { Directive, ElementRef, EventEmitter, Output, OnInit } from '@angular/core';\nimport { ResizeSensor } from 'css-element-queries';\n\nexport class ResizedEvent {\n    constructor(\n        readonly element: ElementRef,\n        readonly newWidth: number,\n        readonly newHeight: number,\n        readonly oldWidth: number,\n        readonly oldHeight: number\n    ) { }\n}\n\n@Directive({\n    selector: '[materiaResized]',\n    exportAs: 'materiaResized'\n})\nexport class ResizedDirective implements OnInit {\n\n    @Output() resized = new EventEmitter<ResizedEvent>();\n\n    private oldWidth: number;\n    private oldHeight: number;\n    private resizeEvent: ResizeSensor;\n\n    constructor(private readonly element: ElementRef) {\n    }\n\n    ngOnInit(): void {\n        this.resizeEvent = new ResizeSensor(this.element.nativeElement, x => this.onResized());\n        this.onResized();\n    }\n\n    private onResized(): void {\n        const newWidth = this.element.nativeElement.clientWidth;\n        const newHeight = this.element.nativeElement.clientHeight;\n\n        if (newWidth === this.oldWidth && newHeight === this.oldHeight) {\n            return;\n        }\n\n        const event = new ResizedEvent(\n            this.element,\n            newWidth,\n            newHeight,\n            this.oldWidth,\n            this.oldHeight);\n\n        this.oldWidth = this.element.nativeElement.clientWidth;\n        this.oldHeight = this.element.nativeElement.clientHeight;\n\n        this.resized.next(event);\n    }\n\n}\n","/// <reference path=\"monaco.d.ts\" />\ndeclare const monaco: any;\nexport const MONACO_PATH = 'MONACO_PATH';\nexport type MonacoEditorConstructionOptions = monaco.editor.IEditorConstructionOptions;\nexport type MonacoDiffEditorConstructionOptions = monaco.editor.IDiffEditorConstructionOptions;\nexport type MonacoStandaloneCodeEditor = monaco.editor.IStandaloneCodeEditor;\nexport type MonacoStandaloneDiffEditor = monaco.editor.IStandaloneDiffEditor;\n","import { Injectable, NgZone, Optional, Inject } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { MONACO_PATH } from '../interfaces';\n\n@Injectable({ providedIn: 'root' })\nexport class MonacoEditorLoaderService {\n    nodeRequire: any;\n    isMonacoLoaded$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    private _monacoPath = 'assets/monaco-editor/min/vs';\n    set monacoPath(value: string) {\n        if (value) {\n            this._monacoPath = value;\n        }\n    }\n\n    constructor(private ngZone: NgZone, @Optional() @Inject(MONACO_PATH) public monacoPathConfig: string) {\n      if ((<any>window).monacoEditorAlreadyInitialized) {\n        ngZone.run(() => this.isMonacoLoaded$.next(true));\n        return;\n      }\n\n      (<any>window).monacoEditorAlreadyInitialized = true;\n\n      if (this.monacoPathConfig) {\n        this.monacoPath = this.monacoPathConfig;\n      }\n      this.loadMonaco();\n    }\n\n    loadMonaco() {\n      const onGotAmdLoader = () => {\n        // Load monaco\n        (<any>window).amdRequire =  (<any>window).require;\n        if (this.nodeRequire) {\n            (<any>window).require = this.nodeRequire;\n        }\n        (<any>window).amdRequire.config({ paths: { 'vs': this._monacoPath } });\n        (<any>window).amdRequire(['vs/editor/editor.main'], () => {\n            this.ngZone.run(() => this.isMonacoLoaded$.next(true));\n        });\n    };\n\n    let loaderScript: any = null;\n    // Load AMD loader if necessary\n    if (!(<any>window).require && !(<any>window).amdRequire) {\n\n        loaderScript = document.createElement('script');\n        loaderScript.type = 'text/javascript';\n        loaderScript.src = `${this._monacoPath}/loader.js`;\n        loaderScript.addEventListener('load', onGotAmdLoader);\n        document.body.appendChild(loaderScript);\n\n    } else if (!(<any>window).amdRequire) {\n\n        this.addElectronFixScripts();\n\n        this.nodeRequire =  (<any>window).require;\n        loaderScript = document.createElement('script');\n        loaderScript.type = 'text/javascript';\n        loaderScript.src = `${this._monacoPath}/loader.js`;\n        loaderScript.addEventListener('load', onGotAmdLoader);\n        document.body.appendChild(loaderScript);\n\n    } else {\n        onGotAmdLoader();\n      }\n    }\n\n    addElectronFixScripts() {\n        const electronFixScript = document.createElement('script');\n        // workaround monaco-css not understanding the environment\n        const inlineScript = document.createTextNode('self.module = undefined;');\n        // workaround monaco-typescript not understanding the environment\n        const inlineScript2 = document.createTextNode('self.process.browser = true;');\n        electronFixScript.appendChild(inlineScript);\n        electronFixScript.appendChild(inlineScript2);\n        document.body.appendChild(electronFixScript);\n    }\n}\n","import { Directive, TemplateRef, ViewContainerRef, OnDestroy, OnInit } from '@angular/core';\nimport { MonacoEditorLoaderService } from '../services/monaco-editor-loader.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Directive({ selector: '[ngxLoadMonacoEditor]' })\nexport class MonacoEditorLoaderDirective implements OnInit, OnDestroy {\n  isMonacoLoaded$ = this.monacoEditorLoaderService.isMonacoLoaded$.asObservable();\n  destroyed$ = new Subject<void>();\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private monacoEditorLoaderService: MonacoEditorLoaderService\n  ) {}\n\n  ngOnInit() {\n    this.isMonacoLoaded$.pipe(takeUntil(this.destroyed$)).subscribe((loaded) => {\n      if (! loaded) {\n        return this.viewContainer.clear();\n      }\n      this.viewContainer.createEmbeddedView(this.templateRef);\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","import {\n    Component,\n    ViewChild,\n    ElementRef,\n    EventEmitter,\n    OnInit,\n    OnChanges,\n    OnDestroy,\n    Input,\n    ChangeDetectionStrategy,\n    forwardRef,\n    SimpleChanges,\n    Output\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, Validator, NG_VALIDATORS, ValidationErrors } from '@angular/forms';\nimport { filter, take } from 'rxjs/operators';\n\nimport { MonacoEditorLoaderService } from '../../services/monaco-editor-loader.service';\nimport { MonacoEditorConstructionOptions, MonacoStandaloneCodeEditor } from '../../interfaces';\n\n@Component({\n    selector: 'ngx-monaco-editor',\n    template: `<div #container materiaResized (resized)=\"onResized($event)\" class=\"editor-container\" fxFlex>\n\t<div class=\"wrapper\">\n\t\t<div\n\t\t\t#editor\n\t\t\tclass=\"monaco-editor\"\n\t\t\t[style.width.px]=\"container.offsetWidth\"\n\t\t\t[style.height.px]=\"container.offsetHeight\" style=\"min-width: 0;\"\n\t\t></div>\n\t</div>\n</div>`,\n    styles: [\n        `:host {\n\tflex: 1;\n\tbox-sizing: border-box;\n\tflex-direction: column;\n\tdisplay: flex;\n\toverflow: hidden;\n\tmax-width: 100%;\n\tmin-wdith: 0;\n}\n.wrapper {\n\twidth: 0px; height: 0px;\n}\n.editor-container {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tposition: relative;\n\tmin-width: 0;\n\tdisplay: table;\n\twidth: 100%;\n\theight: 100%;\n}`\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => MonacoEditorComponent),\n            multi: true\n        },\n        {\n            provide: NG_VALIDATORS,\n            useExisting: forwardRef(() => MonacoEditorComponent),\n            multi: true,\n        }\n    ]\n})\nexport class MonacoEditorComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor, Validator {\n    @Input() options: MonacoEditorConstructionOptions;\n    @Output() init: EventEmitter<MonacoStandaloneCodeEditor> = new EventEmitter();\n    @ViewChild('editor', {static: true}) editorContent: ElementRef;\n\n    container: HTMLDivElement;\n    editor: MonacoStandaloneCodeEditor;\n    value: string;\n    parseError: boolean;\n\n    private onTouched: () => void;\n    private onErrorStatusChange: () => void;\n    private propagateChange: (_: any) => any = (_: any) => { };\n\n    constructor(private monacoLoader: MonacoEditorLoaderService) { }\n\n    ngOnInit() {\n        this.container = this.editorContent.nativeElement;\n        this.monacoLoader.isMonacoLoaded$.pipe(\n            filter(isLoaded => isLoaded),\n            take(1)\n        ).subscribe(() => {\n            this.initMonaco();\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (this.editor && changes.options && !changes.options.firstChange) {\n            if (changes.options.previousValue.language !== changes.options.currentValue.language) {\n                monaco.editor.setModelLanguage(\n                    this.editor.getModel(),\n                    this.options && this.options.language ? this.options.language : 'text'\n                );\n            }\n            if (changes.options.previousValue.theme !== changes.options.currentValue.theme) {\n                monaco.editor.setTheme(changes.options.currentValue.theme);\n            }\n            this.editor.updateOptions(changes.options.currentValue);\n        }\n    }\n\n    writeValue(value: string): void {\n        this.value = value;\n        if (this.editor && value) {\n            this.editor.setValue(value);\n        } else if (this.editor) {\n            this.editor.setValue('');\n        }\n    }\n\n    registerOnChange(fn: any): void {\n        this.propagateChange = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onTouched = fn;\n    }\n\n    validate(): ValidationErrors {\n        return (!this.parseError) ? null : {\n            parseError: {\n                valid: false,\n            }\n        };\n    }\n\n    registerOnValidatorChange?(fn: () => void): void {\n        this.onErrorStatusChange = fn;\n    }\n\n    private initMonaco() {\n        let opts: MonacoEditorConstructionOptions = {\n            value: [this.value].join('\\n'),\n            language: 'text',\n            automaticLayout: true,\n            scrollBeyondLastLine: false,\n            theme: 'vc'\n        };\n        if (this.options) {\n            opts = Object.assign({}, opts, this.options);\n        }\n        this.editor = monaco.editor.create(this.container, opts);\n        this.editor.layout();\n\n        this.editor.onDidChangeModelContent(() => {\n            this.propagateChange(this.editor.getValue());\n        });\n\n        this.editor.onDidChangeModelDecorations(() => {\n            const pastParseError = this.parseError;\n            if (monaco.editor.getModelMarkers({}).map(m => m.message).join(', ')) {\n                this.parseError = true;\n            } else {\n                this.parseError = false;\n            }\n\n            if (pastParseError !== this.parseError) {\n                this.onErrorStatusChange();\n            }\n        });\n\n        this.editor.onDidBlurEditorText(() => {\n            this.onTouched();\n        });\n\n        this.init.emit(this.editor);\n    }\n\n    onResized(event) {\n        if (this.editor) {\n            this.editor.layout({\n                width: event.newWidth,\n                height: event.newHeight\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.editor) {\n            this.editor.dispose();\n        }\n    }\n}\n","import {\n    Component,\n    ViewChild,\n    ElementRef,\n    EventEmitter,\n    OnInit,\n    OnChanges,\n    OnDestroy,\n    Output,\n    Input,\n    ChangeDetectionStrategy,\n    SimpleChanges\n} from '@angular/core';\nimport { filter, take } from 'rxjs/operators';\n\nimport { MonacoEditorLoaderService } from '../../services/monaco-editor-loader.service';\nimport { MonacoDiffEditorConstructionOptions, MonacoStandaloneDiffEditor } from '../../interfaces';\n\n@Component({\n    selector: 'ngx-monaco-diff-editor',\n    template: `<div #container materiaResized (resized)=\"onResized($event)\" class=\"editor-container\" fxFlex>\n<div class=\"wrapper\">\n  <div\n    #diffEditor\n    class=\"monaco-editor\"\n    [style.width.px]=\"container.offsetWidth\"\n    [style.height.px]=\"container.offsetHeight\" style=\"min-width: 0;\"\n  ></div>\n</div>\n</div>`,\n    styles: [\n        `:host {\nflex: 1;\nbox-sizing: border-box;\nflex-direction: column;\ndisplay: flex;\noverflow: hidden;\nmax-width: 100%;\nmin-wdith: 0;\n}\n.wrapper {\nwidth: 0px; height: 0px;\n}\n.editor-container {\ntext-overflow: ellipsis;\noverflow: hidden;\nposition: relative;\nmin-width: 0;\ndisplay: table;\nwidth: 100%;\nheight: 100%;\n}`\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MonacoDiffEditorComponent implements OnInit, OnChanges, OnDestroy {\n    container: HTMLDivElement;\n    editor: MonacoStandaloneDiffEditor;\n\n    @Input() original: string;\n    @Input() modified: string;\n    @Input() options: MonacoDiffEditorConstructionOptions;\n    @Output() init: EventEmitter< MonacoStandaloneDiffEditor> = new EventEmitter();\n\n    @ViewChild('diffEditor', {static: true}) editorContent: ElementRef;\n\n    constructor(private monacoLoader: MonacoEditorLoaderService) { }\n\n    ngOnInit() {\n        this.container = this.editorContent.nativeElement;\n        this.monacoLoader.isMonacoLoaded$.pipe(\n            filter(isLoaded => isLoaded),\n            take(1),\n        ).subscribe(() => {\n            this.initMonaco();\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (this.editor && ((changes.code && !changes.code.firstChange) || (changes.modified && !changes.modified.firstChange))) {\n            const modified = monaco.editor.createModel(this.modified);\n            const original = monaco.editor.createModel(this.original);\n            this.editor.setModel({\n                original,\n                modified\n            });\n        }\n        if (\n            this.editor &&\n            changes.options &&\n            !changes.options.firstChange\n        ) {\n            if (changes.options.previousValue.theme !== changes.options.currentValue.theme) {\n                monaco.editor.setTheme(changes.options.currentValue.theme);\n            }\n\n            this.editor.updateOptions(changes.options.currentValue);\n        }\n    }\n\n    private initMonaco() {\n        let opts: MonacoDiffEditorConstructionOptions = {\n            readOnly: true,\n            theme: 'vc'\n        };\n        if (this.options) {\n            opts = Object.assign({}, opts, this.options);\n        }\n        this.editor = monaco.editor.createDiffEditor(this.container, opts);\n\n        const original = monaco.editor.createModel(this.original);\n        const modified = monaco.editor.createModel(this.modified);\n\n        this.editor.setModel({\n            original,\n            modified\n        });\n        this.editor.layout();\n        this.init.emit(this.editor);\n    }\n\n    onResized(event) {\n        if (this.editor) {\n            this.editor.layout({\n                width: event.newWidth,\n                height: event.newHeight\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.editor) {\n            this.editor.dispose();\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { MonacoEditorLoaderDirective } from './directives/monaco-editor-loader.directive';\nimport { MonacoEditorComponent } from './components/monaco-editor/monaco-editor.component';\nimport { ResizedDirective } from './directives/resized-event.directive';\nimport { MonacoDiffEditorComponent } from './components/monaco-diff-editor/monaco-diff-editor.component';\n\n@NgModule({\n  imports: [],\n  declarations: [\n    MonacoEditorLoaderDirective,\n    MonacoEditorComponent,\n    ResizedDirective,\n    MonacoDiffEditorComponent\n  ],\n  exports: [\n    MonacoEditorLoaderDirective,\n    MonacoEditorComponent,\n    MonacoDiffEditorComponent,\n    ResizedDirective\n  ],\n  entryComponents: [MonacoEditorComponent, MonacoDiffEditorComponent]\n})\nexport class MonacoEditorModule { }\n"],"names":["EventEmitter","ResizeSensor","Directive","ElementRef","Output","BehaviorSubject","Injectable","NgZone","Optional","Inject","Subject","takeUntil","TemplateRef","ViewContainerRef","filter","take","Component","ChangeDetectionStrategy","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","Input","ViewChild","NgModule"],"mappings":"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"}